<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# config

Configuration module.
Exists just to collect most of the app configuration aspects in one place.
Is not supposed be edited at runtime.

# crypto/keys

Peerio Crypto module for key handling.

## deriveKeys

Deterministically derives boot key and auth key pair.

**Parameters**

-   `username`  
-   `passphrase`  
-   `salt`  

## generateSigningKeyPair

Generates new random signing (ed25519) key pair.
32 byte public key and 64 byte secret key.

## generateEncryptionKeyPair

Generates new random asymmetric (curve25519) key pair.

## generateEncryptionKey

Generates new random symmetric (xsalsa20) 32 byte secret key.

## generateAuthSalt

Generates new salt for auth process

## getAuthKeyHash

Hashes auth public key

**Parameters**

-   `key`  

## deriveKeyFromPasscode

**Parameters**

-   `passcode`  {String}

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)>** 

# crypto/public

Public key encryption module

# crypto/secret

Secret key encryption module.
encrypt and decrypt functions replace nacl.secretbox and nacl.secretbox.open.
This replacement reduces the amount of memory allocation and copy operations.
The output cipher bytes have following differences with nacl.secretbox output:

-   nonce is appended to the cipher bytes.
-   16 BOXZEROBYTES in the beginning of cipher bytes are not stripped and another 16 are appended to them

Cipherbytes structure:
[ 32 zero bytes ][ actual cipher bytes ][ 24-byte nonce]

## encrypt

Encrypts and authenticates data using symmetric encryption.
This is a refactored version of nacl.secretbox().

**Parameters**

-   `msgBytes`  
-   `key`  

## encryptString

Helper method to decode string to bytes and encrypt it.

**Parameters**

-   `msg`  
-   `key`  

## decrypt

Decrypts and authenticates data using symmetric encryption.
This is a refactored version of nacl.secretbox.open().

**Parameters**

-   `cipher`  
-   `key`  

## decryptString

Helper method to decode decrypted data to a string.

**Parameters**

-   `cipher`  
-   `key`  

# crypto/sign

Digital signing module

## sign

Signs the message with secret key and returns detached signature

**Parameters**

-   `message`  
-   `secretKey`  

# crypto/util

Peerio Crypto Utilities module.

## getRandomBytes

Universal access to secure PRNG
browser version

**Parameters**

-   `num`  

## concatTypedArrays

Concatenates two Uint8Arrays.
Returns new concatenated array.

**Parameters**

-   `buffer1`  
-   `buffer2`  

## strToBytes

Converts UTF8 string to byte array.
Uses native TextEncoder with Buffer polyfill fallback.

**Parameters**

-   `str`  

## bytesToStr

Converts byte array to UTF8 string .
Uses native TextEncoder with Buffer polyfill fallback.

**Parameters**

-   `bytes`  

## b64ToBytes

Converts Base64 string to byte array.

**Parameters**

-   `str`  

## bytesToB64

Converts byte array to Base64 string.

**Parameters**

-   `bytes`  

## getRandomNonce

Generates 24-byte unique(almost) random nonce.

# errors

Peerio custom error types and error handling helpers

**Parameters**

-   `error`  
-   `failoverMessage`  

# normalize

Use this helper to resolve returning error value.
If you:

-   have an error result from catch() or reject()
-   don't know what exactly that result is, Error, string, undefined or something else
-   don't need custom errors just want to generate meaningful Error object
    then call normalize and pass the result you've got together with fallback message
    that will be wrapped in Error object and returned in case the result wasn't instance of Error

**Parameters**

-   `error`  
-   `failoverMessage`  

# extensions/buffer

'buffer' module extensions.
Modifies and exports Buffer module.

# slice

Uint8Array extensions and polyfills.

# require

Icebear client lib entry point

# models/phrase-dictionary

Passphrase dictionary module

# constructor

Creates new PhraseDictionary

**Parameters**

-   `dictString`  '\\n' separated word list

# getPassphrase

Returns a random passphrase of chosen word length

**Parameters**

-   `length`  

# dispose

Free RAM by deleting cached dictionary

# models/user

Authentication module for User model.

# models/user

# models/user

Passcode module for User model.

# models/user

Registration module for User model.

# getPasscodeSecret

Given a passcode and a populated User model, gets a passcode-encrypted
secret containing the username and passphrase as a JSON string.

**Parameters**

-   `passcode`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

# network/keg-client

Peerio keg client

# network/socket-client

Peerio network socket client module.
This module exports SocketSlient class that can be instantiated as many times as needed.
Other modules contain singleton instances for general use.

# SocketClient

Create an instance of Socket per connnection.

## state

Returns connection state

## subscribe

Subscribes a listener to one of the socket or app events

**Parameters**

-   `event`  
-   `listener`  

## unsubscribe

Unsubscribes a listener to socket or app events

**Parameters**

-   `event`  
-   `listener`  

## send

Send a message to server

**Parameters**

-   `name`  
-   `data`  

## onceConnected

Executes a callback only once when socket will connect, or immediatelly if socket is connected already

**Parameters**

-   `callback`  

## close

Closes current connection and disables reconnects.

## states

Possible connection states

## events

System events

## appEvents

Application events

# network/socket

Main SocketClient singleton instance

# stores/user-store

User data store

# convertBuffers

Wraps all ArrayBuffer type properties in Uint8Array recursively

**Parameters**

-   `obj`  

# util

Various utility functions

**Parameters**

-   `obj`  
