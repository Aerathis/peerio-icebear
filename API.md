<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# config

Configuration module.
Exists just to collect most of the app configuration aspects in one place.
Is not supposed be edited at runtime.

# crypto/keys

Peerio Crypto module for key handling.

## deriveKeys

Deterministically derives boot key and auth key pair.

**Parameters**

-   `username` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `passphrase` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `salt` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;MainKeySet>** 

## generateSigningKeyPair

Generates new random signing (ed25519) key pair.
32 byte public key and 64 byte secret key.

Returns **KeyPair** 

## generateEncryptionKeyPair

Generates new random asymmetric (curve25519) key pair.

Returns **KeyPair** 

## generateEncryptionKey

Generates new random symmetric (xsalsa20) 32 byte secret key.

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

## generateAuthSalt

Generates new salt for auth process

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

## getAuthKeyHash

Hashes auth public key

**Parameters**

-   `key` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

# crypto/public

Public key encryption module

# crypto/secret

Secret key encryption module.
encrypt and decrypt functions replace nacl.secretbox and nacl.secretbox.open.
This replacement reduces the amount of memory allocation and copy operations.

The output cipher bytes have following differences with nacl.secretbox output:

-   nonce is appended to the cipher bytes.
-   16 BOXZEROBYTES in the beginning of cipher bytes are not stripped and another 16 are appended to them

Cipherbytes structure:
[ 32 zero bytes ][ actual cipher bytes ][ 24-byte nonce]

## encrypt

Encrypts and authenticates data using symmetric encryption.
This is a refactored version of nacl.secretbox().

**Parameters**

-   `msgBytes` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 
-   `key` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

## encryptString

Helper method to decode string to bytes and encrypt it.

**Parameters**

-   `msg` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `key` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

## decrypt

Decrypts and authenticates data using symmetric encryption.
This is a refactored version of nacl.secretbox.open().

**Parameters**

-   `cipher` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 
-   `key` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

## decryptString

Helper method to decode decrypted data to a string.

**Parameters**

-   `cipher` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 
-   `key` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

# crypto/sign

Digital signing module

## sign

Signs the message with secret key and returns detached signature

**Parameters**

-   `message` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 
-   `secretKey` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

# crypto/util

Peerio Crypto Utilities module.

## getRandomBytes

Universal access to secure PRNG
browser version

**Parameters**

-   `num` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

## concatTypedArrays

Concatenates two Uint8Arrays.
Returns new concatenated array.

**Parameters**

-   `buffer1` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 
-   `buffer2` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

## strToBytes

Converts UTF8 string to byte array.
Uses native TextEncoder with Buffer polyfill fallback.

**Parameters**

-   `str` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

## bytesToStr

Converts byte array to UTF8 string .
Uses native TextEncoder with Buffer polyfill fallback.

**Parameters**

-   `bytes` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## b64ToBytes

Converts Base64 string to byte array.

**Parameters**

-   `str` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

## bytesToB64

Converts byte array to Base64 string.

**Parameters**

-   `bytes` **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## getRandomNonce

Generates 24-byte unique(almost) random nonce.

Returns **[Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

# normalize

Use this helper to resolve returning error value.

If you:

-   have an error result from catch() or reject()
-   don't know what exactly that result is, Error, string, undefined or something else
-   don't need custom errors just want to generate meaningful Error object
    then call normalize and pass the result you've got together with fallback message
    that will be wrapped in Error object and returned in case the result wasn't instance of Error

**Parameters**

-   `error` **any** 
-   `failoverMessage` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)** 

# errors

Peerio custom error types and error handling helpers

**Parameters**

-   `error` **any** 
-   `failoverMessage` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)** 

# extensions/buffer

'buffer' module extensions.
Modifies and exports Buffer module.

# bufferExtensions

Icebear client lib entry point

# apply

Applies `mixin` to `superclass`.

`apply` stores a reference from the mixin application to the unwrapped mixin
to make `isApplicationOf` and `hasMixin` work.

This function is usefull for mixin wrappers that want to automatically enable
[hasMixin](#hasmixin) support.

**Parameters**

-   `superclass` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** A class or constructor function
-   `mixin` **[MixinFunction](#mixinfunction)** The mixin to apply

**Examples**

```javascript
const Applier = (mixin) => wrap(mixin, (superclass) => apply(superclass, mixin));

// M now works with `hasMixin` and `isApplicationOf`
const M = Applier((superclass) => class extends superclass {});

class C extends M(Object) {}
let i = new C();
hasMixin(i, M); // true
```

Returns **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** A subclass of `superclass` produced by `mixin`

# MixinFunction

A function that returns a subclass of its argument.

**Parameters**

-   `superclass` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 
-   `mixin`  

**Examples**

```javascript
const M = (superclass) => class extends superclass {
  getMessage() {
    return "Hello";
  }
}
```

Returns **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** A subclass of `superclass`

# isApplicationOf

Returns `true` iff `proto` is a prototype created by the application of
`mixin` to a superclass.

`isApplicationOf` works by checking that `proto` has a reference to `mixin`
as created by `apply`.

**Parameters**

-   `proto` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** A prototype object created by [apply](#apply).
-   `mixin` **[MixinFunction](#mixinfunction)** A mixin function used with [apply](#apply).

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** whether `proto` is a prototype created by the application of
`mixin` to a superclass

# hasMixin

Returns `true` iff `o` has an application of `mixin` on its prototype
chain.

**Parameters**

-   `o` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object
-   `mixin` **[MixinFunction](#mixinfunction)** A mixin applied with [apply](#apply)

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** whether `o` has an application of `mixin` on its prototype
chain

# wrap

Sets up the function `mixin` to be wrapped by the function `wrapper`, while
allowing properties on `mixin` to be available via `wrapper`, and allowing
`wrapper` to be unwrapped to get to the original function.

`wrap` does two things:

1.  Sets the prototype of `mixin` to `wrapper` so that properties set on
    `mixin` inherited by `wrapper`.
2.  Sets a special property on `mixin` that points back to `mixin` so that
    it can be retreived from `wrapper`

**Parameters**

-   `mixin` **[MixinFunction](#mixinfunction)** A mixin function
-   `wrapper` **[MixinFunction](#mixinfunction)** A function that wraps [mixin](mixin)

Returns **[MixinFunction](#mixinfunction)** `wrapper`

# unwrap

Unwraps the function `wrapper` to return the original function wrapped by
one or more calls to `wrap`. Returns `wrapper` if it's not a wrapped
function.

**Parameters**

-   `wrapper` **[MixinFunction](#mixinfunction)** A wrapped mixin produced by [wrap](#wrap)

Returns **[MixinFunction](#mixinfunction)** The originally wrapped mixin

# Cached

Decorates `mixin` so that it caches its applications. When applied multiple
times to the same superclass, `mixin` will only create one subclass, memoize
it and return it for each application.

Note: If `mixin` somehow stores properties its classes constructor (static
properties), or on its classes prototype, it will be shared across all
applications of `mixin` to a super class. It's reccomended that `mixin` only
access instance state.

**Parameters**

-   `mixin` **[MixinFunction](#mixinfunction)** The mixin to wrap with caching behavior

Returns **[MixinFunction](#mixinfunction)** a new mixin function

# DeDupe

Decorates `mixin` so that it only applies if it's not already on the
prototype chain.

**Parameters**

-   `mixin` **[MixinFunction](#mixinfunction)** The mixin to wrap with deduplication behavior

Returns **[MixinFunction](#mixinfunction)** a new mixin function

# HasInstance

Adds [Symbol.hasInstance] \(ES2015 custom instanceof support) to `mixin`.

**Parameters**

-   `mixin` **[MixinFunction](#mixinfunction)** The mixin to add [Symbol.hasInstance] to

Returns **[MixinFunction](#mixinfunction)** the given mixin function

# BareMixin

A basic mixin decorator that applies the mixin with [apply](#apply) so that it
can be used with [isApplicationOf](#isapplicationof), [hasMixin](#hasmixin) and the other
mixin decorator functions.

**Parameters**

-   `mixin` **[MixinFunction](#mixinfunction)** The mixin to wrap

Returns **[MixinFunction](#mixinfunction)** a new mixin function

# Mixin

Decorates a mixin function to add deduplication, application caching and
instanceof support.

**Parameters**

-   `mixin` **[MixinFunction](#mixinfunction)** The mixin to wrap

Returns **[MixinFunction](#mixinfunction)** a new mixin function

# mix

A fluent interface to apply a list of mixins to a superclass.

```javascript
class X extends mix(Object).with(A, B, C) {}
```

The mixins are applied in order to the superclass, so the prototype chain
will be: X->C'->B'->A'->Object.

This is purely a convenience function. The above example is equivalent to:

```javascript
class X extends C(B(A(Object))) {}
```

**Parameters**

-   `superclass` **\[[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)]**  (optional, default `Object`)

Returns **MixinBuilder** 

# with

Applies `mixins` in order to the superclass given to `mix()`.

**Parameters**

-   `mixins` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Mixin](#mixin)>** 

Returns **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** a subclass of `superclass` with `mixins` applied

# models/user

Base user class containing class properties mostly

# models/user

Authentication module for User model.

# models/user

# models/user

Registration module for User model.

# socket-client

Peerio network socket client module.
This module exports SocketSlient class that can be instantiated as many times as needed.
Other modules contain singleton instances for general use.

# SocketClient

Create an instance of Socket per connnection.

## state

Returns connection state

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## open

Starts a connecton with auto-reconnects

## subscribe

Subscribes a listener to one of the socket or app events

**Parameters**

-   `event` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `listener` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 

## unsubscribe

Unsubscribes a listener to socket or app events

**Parameters**

-   `event` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `listener` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 

## send

Send a message to server

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `data` **any** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;any>** 

## onceConnected

Executes a callback only once when socket will connect, or immediatelly if socket is connected already

**Parameters**

-   `callback` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** 

## close

Closes current connection and disables reconnects.

## states

Possible connection states

## events

System events

## appEvents

Application events

# network/socket

Main SocketClient singleton instance

# stores/user-store

User data store

# convertBuffers

Wraps all ArrayBuffer type properties in Uint8Array recursively

**Parameters**

-   `obj` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

# util

Various utility functions

**Parameters**

-   `obj` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
